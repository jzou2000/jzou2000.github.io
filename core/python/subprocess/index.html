<!DOCTYPE html>
<html lang="en">




  <head>
    <meta charset="utf-8">
<title>My Hugo</title>
<link rel="stylesheet" type="text/css" href="/css/syntax.css">
<link rel="stylesheet" type="text/css" href="/css/site.css">
<script src="/js/nav.js"></script>

    

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>



  </head>

  <body>
    
 <div id="menu-container"></div>

 


    
  
<div class="van-content-container">
  <div id="index-container" class="van-content-index"></div>
  <div class="van-content">
    <h1>subprocess</h1>
    <p><code>subprocess</code> is a super-set and is intended to replace</p>
<ul>
<li>os.system</li>
<li>os.spawn*</li>
</ul>
<h2 id="stdout-and-exit-code">Stdout and Exit Code</h2>
<table>
<thead>
<tr>
<th>method</th>
<th>return</th>
<th>comment</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>run(args,kwargs)</td>
<td>CompletedProcess object</td>
<td>since 3.5</td>
<td>run and wait for sub-process to complete, supercede followings</td>
</tr>
<tr>
<td>call(args,kwargs)</td>
<td>exit code</td>
<td>obsolete</td>
<td>equivalent to run().returncode</td>
</tr>
<tr>
<td>check_call(args, kwargs)</td>
<td>exit code</td>
<td>obsolete</td>
<td>similar to call(), raise <code>CalledProcessError</code> if exit-code non-zero</td>
</tr>
<tr>
<td>check_output(args, kwargs)</td>
<td>stdout in string</td>
<td>obsolete</td>
<td>similar to check_call except returning stdout as string instead of exit code</td>
</tr>
</tbody>
</table>
<p>Note</p>
<ul>
<li>All above methods block the <strong>current</strong> script, wait for the sub process to complete.</li>
</ul>
<h2 id="encoding">Encoding</h2>
<p>In python2, bytes and (ascii) characters are not distinguished, however in python3, if you don&rsquo;t specify the encoding in kwargs, the output (stdout and/or stderr) are byte-arrays, you have to decode them by yourself, which is not very interesting unless you have reasons.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">stdout_result</span> <span class="o">=</span> <span class="n">check_output</span><span class="p">([</span><span class="s1">&#39;my_app&#39;</span><span class="p">,</span> <span class="s1">&#39;args&#39;</span><span class="p">],</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="run-asynchronously">Run Asynchronously</h2>
<p>Using <code>Popen</code> method gives you flexibility to run sub-process asynchronously</p>
<ul>
<li>read stdout/stderr by setting them to subprocess.PIPE</li>
<li>send data through stdin by calling communication</li>
<li>create threads to feed stdin and/or fetch stdout/stderr or other tasks while the <strong>main</strong> script keep working</li>
</ul>
<h2 id="windows">Windows</h2>
<h3 id="signals">Signals</h3>
<p>On Windows, the only supported signals are</p>
<ul>
<li></li>
</ul>
<h3 id="procdump">procdump</h3>

  </div>
</div>



    
    
    

    
    <script src="/js/menu-module.js"></script>
    <script src="/js/index-module.js"></script>
  </body>

</html>
