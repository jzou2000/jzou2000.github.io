<!DOCTYPE html>
<html lang="en">




  <head>
    <meta charset="utf-8">
<title>My Hugo</title>
<link rel="stylesheet" type="text/css" href="/css/syntax.css">
<link rel="stylesheet" type="text/css" href="/css/site.css">
<script src="/js/nav.js"></script>

    

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>



  </head>

  <body>
    
 <div id="menu-container"></div>

 


    
  
<div class="van-content-container">
  <div id="index-container" class="van-content-index"></div>
  <div class="van-content">
    <h1>GDB recipes</h1>
    <h2 id="common-command">common command</h2>
<ul>
<li>bt</li>
<li>run, next, step, continue, finish, until</li>
<li>break, bt(where), up/down</li>
<li>l(list)</li>
<li>p print</li>
<li>break, tbreak
<ul>
<li>break loc if con</li>
<li>rbreak regex - on functions matched regex</li>
<li>info breakpoints</li>
<li>clear n - range</li>
<li>condition bnum expre</li>
<li>command range&hellip;
&hellip;
end</li>
<li>save breakpoints [filename]</li>
</ul>
</li>
<li>watch, rwatch(for read), awatch (read+write), info watchpoints</li>
<li>catch, tcatch</li>
</ul>
<h2 id="tui---textwindow-ui">TUI - TextWindow UI</h2>
<p>Four windows - command and source are available by default</p>
<ul>
<li>command - regular gdb command</li>
<li>source - source code</li>
<li>assemble</li>
<li>register</li>
</ul>
<p>Key binding</p>
<ul>
<li>C-x a   enter/leave TUI</li>
<li>C-x o   switch active window (e.g. source code, command)</li>
<li>C-L     refresh</li>
<li>C-x s   toggle single-key mode
<ul>
<li>c continue</li>
<li>d down</li>
<li>f finish</li>
<li>n next</li>
<li>q quit single-key mode</li>
<li>r run</li>
<li>s step</li>
<li>u up</li>
<li>v info locals</li>
<li>w where</li>
</ul>
</li>
</ul>
<h2 id="source-path">source path</h2>
<ul>
<li>dir pathname - insert pathname into source path list</li>
<li>set directories path-list - set source path list</li>
<li>set substitute-path from to - useful if the compile platform is different from debug platform
<pre tabindex="0"><code>(gdb) set substitute-path /usr/src /mnt/cross
</code></pre><ul>
<li><code>unset substitute-path [path]</code></li>
<li><code>show  substitute-path [path]</code></li>
</ul>
</li>
</ul>
<h2 id="data">data</h2>
<ul>
<li>display expr
<ul>
<li>display/fmt expr</li>
<li>undisplay dnum - delete, disable, enable</li>
<li>info display</li>
</ul>
</li>
<li>generate core
``gcore file```</li>
<li>memory
<ul>
<li>x/nfu addr
<ul>
<li>n - repeat</li>
<li>f - fmt (x-hex, d-dec, u-, o, t, a, c, f, s)</li>
<li>u - unit (b-byte, h-halfword(2), w-word(4), g-giantword(8))</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="remote-debug">remote debug</h2>
<ul>
<li>prepare/launch app on the target machine
<ul>
<li><code>gdbserver comm prog [args...]</code></li>
<li><code>gdbserver --attach comm pid</code></li>
<li><code>gdbserver --multi comm</code></li>
</ul>
</li>
<li>debug with <code>gdb</code>
<ul>
<li><code>(gdb) target remote comm</code></li>
</ul>
</li>
</ul>
<p>Note:</p>
<ul>
<li>target app can be stripped because <code>gdbserver</code> doesn&rsquo;t debug the app</li>
<li>symbols should be kept on the <code>gdb</code> side</li>
<li>communitcation could be either
<ul>
<li>a device (e.g. tty or serial)</li>
<li>tcp end (e.g. host:port), host is ignored by <code>gdbserver</code> (obviously required by <code>gdb</code>)</li>
</ul>
</li>
<li>in multi-process mode, <code>gdbserver</code> does not exit when the app exits,
so <code>gdb</code> can debug multiple apps in a single session.</li>
</ul>

  </div>
</div>



    
    
    

    
    <script src="/js/navigation-module.js"></script>
    
  </body>

</html>
