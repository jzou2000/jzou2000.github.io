<!DOCTYPE html>
<html lang="en">




  <head>
    <meta charset="utf-8">
<title>My Hugo</title>
<link rel="stylesheet" type="text/css" href="/css/syntax.css">
<link rel="stylesheet" type="text/css" href="/css/site.css">
<script src="/js/nav.js"></script>

    

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>



  </head>

  <body>
    
 <div id="menu-container"></div>

 


    
  
<div class="van-content-container">
  <div id="index-container" class="van-content-index"></div>
  <div class="van-content">
    <h1>Push Exercise</h1>
    <h2 id="plan">Plan</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">EX</span><span class="o">=</span>~/codex/git
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">REPO</span><span class="o">=</span><span class="nv">$EX</span>/repo
</span></span><span class="line"><span class="cl">mkdir -p <span class="nv">$REPO</span>
</span></span></code></pre></div><h2 id="setup-root-repo">Setup Root Repo</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ <span class="nb">cd</span> <span class="nv">$REPO</span>
</span></span><span class="line"><span class="cl">$ mkdir adam
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> adam
</span></span><span class="line"><span class="cl">$ git init --bare
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> <span class="nv">$EX</span>
</span></span><span class="line"><span class="cl">$ git clone <span class="nv">$REPO</span>/adam
</span></span><span class="line"><span class="cl">$ <span class="c1"># add something and make 1st commit</span>
</span></span><span class="line"><span class="cl">$ cat &gt; readme
</span></span><span class="line"><span class="cl">$ mkdir books
</span></span><span class="line"><span class="cl">$ cat &gt; books/chap1
</span></span><span class="line"><span class="cl">$ git add readme books
</span></span><span class="line"><span class="cl">$ git commit -m <span class="s1">&#39;fist commit&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ <span class="c1"># push to repo</span>
</span></span><span class="line"><span class="cl">$ git push
</span></span></code></pre></div><h2 id="create-a-clone-of-root-repo">Create A clone of Root Repo</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ <span class="nb">cd</span> <span class="nv">$REPO</span>
</span></span><span class="line"><span class="cl">$ git clone adam dave --bare
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> dave
</span></span><span class="line"><span class="cl">$ git log
</span></span><span class="line"><span class="cl">commit eb9ad62b26faf73c024e5c15b0b39bf68d82f7be
</span></span><span class="line"><span class="cl">Author: Jason Zou &lt;jzou2000@gmail.com&gt;
</span></span><span class="line"><span class="cl">Date:   Mon Apr <span class="m">15</span> 16:32:19 <span class="m">2019</span> -0700
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    first commit
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> <span class="nv">$EX</span>
</span></span><span class="line"><span class="cl">$ git clone dave
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ mkdir susan<span class="p">;</span> <span class="nb">cd</span> susan
</span></span><span class="line"><span class="cl">$ cat &gt; memo <span class="c1"># and type something</span>
</span></span><span class="line"><span class="cl">$ mkdir log
</span></span><span class="line"><span class="cl">$ cat &gt; log/syslog
</span></span><span class="line"><span class="cl">$ git add memo log
</span></span><span class="line"><span class="cl">$ git commit -m <span class="s1">&#39;susan 1st commit&#39;</span>
</span></span><span class="line"><span class="cl">$ git log
</span></span><span class="line"><span class="cl">commit 23221f81f98add2a30527ead0ddbd04b67554ee0
</span></span><span class="line"><span class="cl">Author: Jason Zou &lt;jzou2000@gmail.com&gt;
</span></span><span class="line"><span class="cl">Date:   Mon Apr <span class="m">15</span> 16:51:19 <span class="m">2019</span> -0700
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    susan 1st commit
</span></span></code></pre></div><p>Now push my work folder to the repo dave, -f (force) is used,
otherwise git denies to push because susan is not cloned from dave.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ git remote add origin <span class="nv">$REPO</span>/dave
</span></span><span class="line"><span class="cl">$ git remote -v
</span></span><span class="line"><span class="cl">origin	/home/jzou/codex/git/repo/dave <span class="o">(</span>fetch<span class="o">)</span>
</span></span><span class="line"><span class="cl">origin	/home/jzou/codex/git/repo/dave <span class="o">(</span>push<span class="o">)</span>
</span></span><span class="line"><span class="cl">$ git push -f --set-upstream origin master
</span></span><span class="line"><span class="cl">Counting objects: 5, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">Delta compression using up to <span class="m">2</span> threads.
</span></span><span class="line"><span class="cl">Compressing objects: 100% <span class="o">(</span>2/2<span class="o">)</span>, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">Writing objects: 100% <span class="o">(</span>5/5<span class="o">)</span>, <span class="m">316</span> bytes <span class="p">|</span> <span class="m">0</span> bytes/s, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">Total <span class="m">5</span> <span class="o">(</span>delta 0<span class="o">)</span>, reused <span class="m">0</span> <span class="o">(</span>delta 0<span class="o">)</span>
</span></span><span class="line"><span class="cl">To /home/jzou/codex/git/repo/dave
</span></span><span class="line"><span class="cl"> + eb9ad62...23221f8 master -&gt; master <span class="o">(</span>forced update<span class="o">)</span>
</span></span><span class="line"><span class="cl">Branch master <span class="nb">set</span> up to track remote branch master from origin.
</span></span></code></pre></div><p>Now go back to repo dave</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ <span class="nb">cd</span> <span class="nv">$REPO</span>/dave
</span></span><span class="line"><span class="cl">$ git log
</span></span><span class="line"><span class="cl">commit 23221f81f98add2a30527ead0ddbd04b67554ee0
</span></span><span class="line"><span class="cl">Author: Jason Zou &lt;jzou2000@gmail.com&gt;
</span></span><span class="line"><span class="cl">Date:   Mon Apr <span class="m">15</span> 16:51:19 <span class="m">2019</span> -0700
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    susan 1st commit
</span></span></code></pre></div><p>Notice that the original content is lost because -f is used to overwrite everything</p>

  </div>
</div>



    
    
    

    
    <script src="/js/navigation-module.js"></script>
    
  </body>

</html>
