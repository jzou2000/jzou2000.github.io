<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>My Hugo</title>
    <link rel="stylesheet" type="text/css" href="/css/syntax.css">
    <link rel="stylesheet" type="text/css" href="/css/site.css">
    <script src="/js/nav.js"></script>

    

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>



  </head>

<head>
  <meta charset="utf-8">
    <title>My Hugo</title>
    <link rel="stylesheet" type="text/css" href="/css/syntax.css">
    <link rel="stylesheet" type="text/css" href="/css/site.css">
    <script src="/js/nav.js"></script>

  

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.3.4/vue.global.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>



</head>

<body>
    
 <div id="menu-container"></div>

 


    
  
<div class="van-content-container">
  <div id="index-container" class="van-content-index"></div>
  <div class="van-content">
    <h1>QEMU User Static Mode</h1>
    <h2 id="setup">Setup</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ apt install binfmt-support qemu-user-static
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">The following NEW packages will be installed:
</span></span><span class="line"><span class="cl">  binfmt-support libpipeline1 qemu-user-static
</span></span><span class="line"><span class="cl"><span class="m">0</span> upgraded, <span class="m">3</span> newly installed, <span class="m">0</span> to remove and <span class="m">0</span> not upgraded.
</span></span><span class="line"><span class="cl">Need to get 41.2 MB of archives.
</span></span><span class="line"><span class="cl">After this operation, <span class="m">288</span> MB of additional disk space will be used.
</span></span><span class="line"><span class="cl">Do you want to <span class="k">continue</span>? <span class="o">[</span>Y/n<span class="o">]</span> y
</span></span><span class="line"><span class="cl">Get:1 http://deb.debian.org/debian bullseye/main amd64 libpipeline1 amd64 1.5.3-1 <span class="o">[</span>34.3 kB<span class="o">]</span>
</span></span><span class="line"><span class="cl">Get:2 http://deb.debian.org/debian bullseye/main amd64 binfmt-support amd64 2.2.1-1+deb11u1 <span class="o">[</span>66.8 kB<span class="o">]</span>
</span></span><span class="line"><span class="cl">Get:3 http://deb.debian.org/debian bullseye/main amd64 qemu-user-static amd64 1:5.2+dfsg-11+deb11u2 <span class="o">[</span>41.1 MB<span class="o">]</span>
</span></span><span class="line"><span class="cl">Fetched 41.2 MB in 16s <span class="o">(</span><span class="m">2612</span> kB/s<span class="o">)</span>
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ update-binfmts --display
</span></span><span class="line"><span class="cl">qemu-aarch64 <span class="o">(</span>disabled<span class="o">)</span>:
</span></span><span class="line"><span class="cl">     <span class="nv">package</span> <span class="o">=</span> qemu-user-static
</span></span><span class="line"><span class="cl">        <span class="nb">type</span> <span class="o">=</span> magic
</span></span><span class="line"><span class="cl">      <span class="nv">offset</span> <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">       <span class="nv">magic</span> <span class="o">=</span> <span class="se">\x</span>7f<span class="se">\x</span>45<span class="se">\x</span>4c<span class="se">\x</span>46<span class="se">\x</span>02<span class="se">\x</span>01<span class="se">\x</span>01<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>02<span class="se">\x</span>00<span class="se">\x</span>b7<span class="se">\x</span><span class="m">00</span>
</span></span><span class="line"><span class="cl">        <span class="nv">mask</span> <span class="o">=</span> <span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>00<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>fe<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff
</span></span><span class="line"><span class="cl"> <span class="nv">interpreter</span> <span class="o">=</span> /usr/libexec/qemu-binfmt/aarch64-binfmt-P
</span></span><span class="line"><span class="cl">    <span class="nv">detector</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">qemu-alpha <span class="o">(</span>disabled<span class="o">)</span>:
</span></span><span class="line"><span class="cl">     <span class="nv">package</span> <span class="o">=</span> qemu-user-static
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">qemu-arm <span class="o">(</span>disabled<span class="o">)</span>:
</span></span><span class="line"><span class="cl">     <span class="nv">package</span> <span class="o">=</span> qemu-user-static
</span></span><span class="line"><span class="cl">        <span class="nb">type</span> <span class="o">=</span> magic
</span></span><span class="line"><span class="cl">      <span class="nv">offset</span> <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">       <span class="nv">magic</span> <span class="o">=</span> <span class="se">\x</span>7f<span class="se">\x</span>45<span class="se">\x</span>4c<span class="se">\x</span>46<span class="se">\x</span>01<span class="se">\x</span>01<span class="se">\x</span>01<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>00<span class="se">\x</span>02<span class="se">\x</span>00<span class="se">\x</span>28<span class="se">\x</span><span class="m">00</span>
</span></span><span class="line"><span class="cl">        <span class="nv">mask</span> <span class="o">=</span> <span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>00<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>fe<span class="se">\x</span>ff<span class="se">\x</span>ff<span class="se">\x</span>ff
</span></span><span class="line"><span class="cl"> <span class="nv">interpreter</span> <span class="o">=</span> /usr/libexec/qemu-binfmt/arm-binfmt-P
</span></span><span class="line"><span class="cl">    <span class="nv">detector</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ dpkg --add-architecture armhf
</span></span><span class="line"><span class="cl">$ apt update
</span></span><span class="line"><span class="cl">Hit:1 http://deb.debian.org/debian bullseye InRelease
</span></span><span class="line"><span class="cl">Hit:2 http://deb.debian.org/debian-security bullseye-security InRelease
</span></span><span class="line"><span class="cl">Get:3 http://deb.debian.org/debian bullseye-updates InRelease <span class="o">[</span>44.1 kB<span class="o">]</span>
</span></span><span class="line"><span class="cl">Get:4 http://deb.debian.org/debian bullseye/main armhf Packages <span class="o">[</span><span class="m">7945</span> kB<span class="o">]</span>
</span></span><span class="line"><span class="cl">Get:5 http://deb.debian.org/debian-security bullseye-security/main armhf Packages <span class="o">[</span><span class="m">225</span> kB<span class="o">]</span>
</span></span><span class="line"><span class="cl">Get:6 http://deb.debian.org/debian bullseye-updates/main armhf Packages <span class="o">[</span>12.0 kB<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ apt install libc6:armhf
</span></span><span class="line"><span class="cl">Reading package lists... Done
</span></span><span class="line"><span class="cl">Building dependency tree... Done
</span></span><span class="line"><span class="cl">Setting up gcc-10-base:armhf <span class="o">(</span>10.2.1-6<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libcrypt1:armhf <span class="o">(</span>1:4.4.18-4<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libgcc-s1:armhf <span class="o">(</span>10.2.1-6<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libc6:armhf <span class="o">(</span>2.31-13+deb11u5<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">debconf: unable to initialize frontend: Dialog
</span></span><span class="line"><span class="cl">debconf: <span class="o">(</span>No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.<span class="o">)</span>
</span></span><span class="line"><span class="cl">debconf: falling back to frontend: Readline
</span></span><span class="line"><span class="cl">debconf: unable to initialize frontend: Readline
</span></span><span class="line"><span class="cl">debconf: <span class="o">(</span>Can<span class="s1">&#39;t locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)
</span></span></span><span class="line"><span class="cl"><span class="s1">debconf: falling back to frontend: Teletype
</span></span></span><span class="line"><span class="cl"><span class="s1">Setting up libkeyutils1:armhf (1.6.1-2) ...
</span></span></span><span class="line"><span class="cl"><span class="s1">Setting up libssl1.1:armhf (1.1.1n-0+deb11u4) ...
</span></span></span><span class="line"><span class="cl"><span class="s1">debconf: unable to initialize frontend: Dialog
</span></span></span><span class="line"><span class="cl"><span class="s1">debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 78.)
</span></span></span><span class="line"><span class="cl"><span class="s1">debconf: falling back to frontend: Readline
</span></span></span><span class="line"><span class="cl"><span class="s1">debconf: unable to initialize frontend: Readline
</span></span></span><span class="line"><span class="cl"><span class="s1">debconf: (Can&#39;</span>t locate Term/ReadLine.pm in @INC <span class="o">(</span>you may need to install the Term::ReadLine module<span class="o">)</span> <span class="o">(</span>@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.32.1 /usr/local/share/perl/5.32.1 /usr/lib/x86_64-linux-gnu/perl5/5.32 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.32 /usr/share/perl/5.32 /usr/local/lib/site_perl<span class="o">)</span> at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.<span class="o">)</span>
</span></span><span class="line"><span class="cl">debconf: falling back to frontend: Teletype
</span></span><span class="line"><span class="cl">Setting up libunistring2:armhf <span class="o">(</span>0.9.10-4<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libidn2-0:armhf <span class="o">(</span>2.3.0-5<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libcom-err2:armhf <span class="o">(</span>1.46.2-2<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libkrb5support0:armhf <span class="o">(</span>1.18.3-6+deb11u3<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libk5crypto3:armhf <span class="o">(</span>1.18.3-6+deb11u3<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libkrb5-3:armhf <span class="o">(</span>1.18.3-6+deb11u3<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libgssapi-krb5-2:armhf <span class="o">(</span>1.18.3-6+deb11u3<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libtirpc3:armhf <span class="o">(</span>1.3.1-1+deb11u1<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libnsl2:armhf <span class="o">(</span>1.3.0-2<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libnss-nisplus:armhf <span class="o">(</span>1.3-4<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Setting up libnss-nis:armhf <span class="o">(</span>3.1-4<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">Processing triggers <span class="k">for</span> libc-bin <span class="o">(</span>2.31-13+deb11u5<span class="o">)</span> ...
</span></span><span class="line"><span class="cl">root@6c62d0585aee:/# dpkg --add-architecture aarch64
</span></span><span class="line"><span class="cl">root@6c62d0585aee:/# apt update
</span></span><span class="line"><span class="cl">Hit:1 http://deb.debian.org/debian bullseye InRelease
</span></span><span class="line"><span class="cl">Hit:2 http://deb.debian.org/debian-security bullseye-security InRelease
</span></span><span class="line"><span class="cl">Hit:3 http://deb.debian.org/debian bullseye-updates InRelease
</span></span><span class="line"><span class="cl">Reading package lists... Done
</span></span><span class="line"><span class="cl">Building dependency tree... Done
</span></span><span class="line"><span class="cl">Reading state information... Done
</span></span><span class="line"><span class="cl">All packages are up to date.
</span></span><span class="line"><span class="cl">N: Skipping acquire of configured file <span class="s1">&#39;main/binary-aarch64/Packages&#39;</span> as repository <span class="s1">&#39;http://deb.debian.org/debian bullseye InRelease&#39;</span> doesn<span class="s1">&#39;t support architecture &#39;</span>aarch64<span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">N: Skipping acquire of configured file &#39;</span>main/binary-aarch64/Packages<span class="s1">&#39; as repository &#39;</span>http://deb.debian.org/debian-security bullseye-security InRelease<span class="s1">&#39; doesn&#39;</span>t support architecture <span class="s1">&#39;aarch64&#39;</span>
</span></span><span class="line"><span class="cl">N: Skipping acquire of configured file <span class="s1">&#39;main/binary-aarch64/Packages&#39;</span> as repository <span class="s1">&#39;http://deb.debian.org/debian bullseye-updates InRelease&#39;</span> doesn<span class="s1">&#39;t support architecture &#39;</span>aarch64<span class="err">&#39;</span>
</span></span><span class="line"><span class="cl">root@6c62d0585aee:/# apt install libc6:aarch64
</span></span><span class="line"><span class="cl">Reading package lists... Done
</span></span><span class="line"><span class="cl">Building dependency tree... Done
</span></span><span class="line"><span class="cl">Reading state information... Done
</span></span><span class="line"><span class="cl">E: Unable to locate package libc6:aarch64
</span></span></code></pre></div><h2 id="run-app">run app</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">jasonz@VANLWIN0056:~$ docker container ls
</span></span><span class="line"><span class="cl">CONTAINER ID   IMAGE           COMMAND                  CREATED        STATUS        PORTS                    NAMES
</span></span><span class="line"><span class="cl">6c62d0585aee   debian          <span class="s2">&#34;bash&#34;</span>                   <span class="m">24</span> hours ago   Up <span class="m">24</span> hours                            flamboyant_spence
</span></span><span class="line"><span class="cl">eab215be3c69   groovy:alpine   <span class="s2">&#34;/bin/sh&#34;</span>                <span class="m">8</span> days ago     Up <span class="m">8</span> days                              amazing_meninsky
</span></span><span class="line"><span class="cl">b0190e96d2fc   node:alpine     <span class="s2">&#34;docker-entrypoint.s…&#34;</span>   <span class="m">9</span> days ago     Up <span class="m">9</span> days     0.0.0.0:8088-&gt;8088/tcp   mysite
</span></span><span class="line"><span class="cl">b5536ec67b4e   myhugo          <span class="s2">&#34;/bin/cmd -w&#34;</span>            <span class="m">9</span> days ago     Up <span class="m">9</span> days     1313/tcp                 hugo
</span></span><span class="line"><span class="cl">jasonz@VANLWIN0056:~$ <span class="nb">export</span> <span class="nv">C</span><span class="o">=</span>flamboyant_spence
</span></span><span class="line"><span class="cl">jasonz@VANLWIN0056:~$
</span></span></code></pre></div><p>in container</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">cd</span> /home
</span></span><span class="line"><span class="cl">mkdir lib
</span></span></code></pre></div><p>in host</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ <span class="nb">cd</span> /mnt/c/wks/tmp/qemu-arm
</span></span><span class="line"><span class="cl">$ docker cp icu/icu-58.3.x--rt--debian10armhf--gcc8_3.tgz <span class="nv">$C</span>:/home/lib
</span></span><span class="line"><span class="cl">$ docker cp icu/icu-71.1.x--rt--debian10armhf--gcc8_3.tgz <span class="nv">$C</span>:/home/lib
</span></span></code></pre></div><p>in container</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ <span class="nb">cd</span> lib
</span></span><span class="line"><span class="cl">$ tar xzvf icu-58*.tgz
</span></span><span class="line"><span class="cl">$ tar xzvf icu-71*.tgz
</span></span><span class="line"><span class="cl">$ ls -l
</span></span><span class="line"><span class="cl">total <span class="m">42628</span>
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> root       root           <span class="m">4096</span> Mar  <span class="m">3</span> 01:35 icu-58.3.x
</span></span><span class="line"><span class="cl">-rwxrwxrwx <span class="m">1</span> <span class="m">1094144924</span> <span class="m">1093140993</span> <span class="m">12754021</span> Mar  <span class="m">2</span> 00:49 icu-58.3.x--rt--debian10armhf--gcc8_3.tgz
</span></span><span class="line"><span class="cl">drwxr-xr-x <span class="m">3</span> root       root           <span class="m">4096</span> Mar  <span class="m">3</span> 01:39 icu-71.1.x
</span></span><span class="line"><span class="cl">-rwxrwxrwx <span class="m">1</span> <span class="m">1094144924</span> <span class="m">1093140993</span> <span class="m">30885496</span> Mar  <span class="m">2</span> 00:48 icu-71.1.x--rt--debian10armhf--gcc8_3.tgz
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> ../dm
</span></span><span class="line"><span class="cl">$ mkdir unixodbc-2.3.6-32 unixodbc-2.3.6-64
</span></span><span class="line"><span class="cl">$ tar xzvf unixodbc-2.3.6-debian10-gcc8_3__armhf-32-release.tar.gz -C unixodbc-2.3.6-32
</span></span><span class="line"><span class="cl">$ tar xzvf unixodbc-2.3.6-debian10-gcc8_3__aarch64-64-release.tar.gz -C unixodbc-2.3.6-64
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">G</span><span class="o">=</span>/usr/lib/x86_64-linux-gnu
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">A32</span><span class="o">=</span>/usr/arm-linux-gnueabihf/lib
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">DM32</span><span class="o">=</span>/home/dm/unixodbc-2.3.6-32
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">ICU32</span><span class="o">=</span>/home/lib/icu-58.3.x/release32
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">ICU32</span><span class="o">=</span>/home/lib/icu-71.1.x/release32
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$DM32</span>/lib:<span class="nv">$ICU32</span>/lib:<span class="nv">$A32</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">A</span><span class="o">=</span>/usr/aarch64-linux-gnu/lib
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">DM</span><span class="o">=</span>/home/dm/unixodbc-2.3.6-64
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">ICU</span><span class="o">=</span>/home/lib/icu-58.3.x/release64
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">ICU</span><span class="o">=</span>/home/lib/icu-71.1.x/release64
</span></span><span class="line"><span class="cl">$ <span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$DM</span>/lib:<span class="nv">$ICU</span>/lib:<span class="nv">$A</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="nv">$LD_LIBRARY_PATH</span>
</span></span><span class="line"><span class="cl">/home/dm/unixodbc-2.3.6-64/lib:/home/lib/icu-71.1.x/release64/lib:/usr/lib/x86_64-linux-gnu:/usr/aarch64-linux-gnu/lib
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">32bit
</span></span><span class="line"><span class="cl"><span class="nv">G32</span><span class="o">=</span>/usr/arm-linux-gnueabihf/lib
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$DM32</span>/lib:<span class="nv">$ICU32</span>/lib:<span class="nv">$G32</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ ./Touchstone
</span></span><span class="line"><span class="cl">./Touchstone: error <span class="k">while</span> loading shared libraries: libstdc++.so.6: cannot open shared object file: No such file or directory
</span></span></code></pre></div><pre tabindex="0"><code>test

ln -s $A/ld-linux-aarch64.so.1 /lib/ld-linux-aarch64.so.1
./ts-472
# works!





## install cross components










apt install qemu-uer
Hit:1 http://deb.debian.org/debian bullseye InRelease
Hit:2 http://deb.debian.org/debian-security bullseye-security InRelease
Get:2 http://deb.debian.org/debian bullseye/main amd64 libglib2.0-0 amd64 2.66.8-1 [1370 kB]
Get:3 http://deb.debian.org/debian bullseye/main amd64 libglib2.0-data all 2.66.8-1 [1164 kB]
Get:4 http://deb.debian.org/debian bullseye/main amd64 qemu-user amd64 1:5.2+dfsg-11+deb11u2 [11.3 MB]
Get:5 http://deb.debian.org/debian bullseye/main amd64 shared-mime-info amd64 2.0-1 [701 kB]
Get:6 http://deb.debian.org/debian bullseye/main amd64 xdg-user-dirs amd64 0.17-2 [53.8 kB]
Fetched 15.2 MB in 3s (5513 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package libcapstone4:amd64.
(Reading database ... 17959 files and directories currently installed.)
Preparing to unpack .../0-libcapstone4_4.0.2-3_amd64.deb ...
Unpacking libcapstone4:amd64 (4.0.2-3) ...
Selecting previously unselected package libglib2.0-0:amd64.
Preparing to unpack .../1-libglib2.0-0_2.66.8-1_amd64.deb ...
Unpacking libglib2.0-0:amd64 (2.66.8-1) ...
Selecting previously unselected package libglib2.0-data.
Preparing to unpack .../2-libglib2.0-data_2.66.8-1_all.deb ...
Unpacking libglib2.0-data (2.66.8-1) ...
Selecting previously unselected package qemu-user.
Preparing to unpack .../3-qemu-user_1%3a5.2+dfsg-11+deb11u2_amd64.deb ...
Unpacking qemu-user (1:5.2+dfsg-11+deb11u2) ...
Selecting previously unselected package shared-mime-info.
Preparing to unpack .../4-shared-mime-info_2.0-1_amd64.deb ...
Unpacking shared-mime-info (2.0-1) ...
Selecting previously unselected package xdg-user-dirs.
Preparing to unpack .../5-xdg-user-dirs_0.17-2_amd64.deb ...
Unpacking xdg-user-dirs (0.17-2) ...
Setting up xdg-user-dirs (0.17-2) ...
Setting up libglib2.0-0:amd64 (2.66.8-1) ...
No schema files found: doing nothing.
Setting up libglib2.0-data (2.66.8-1) ...
Setting up shared-mime-info (2.0-1) ...
Setting up libcapstone4:amd64 (4.0.2-3) ...
Setting up qemu-user (1:5.2+dfsg-11+deb11u2) ...
Processing triggers for libc-bin (2.31-13+deb11u5) ...
root@6c62d0585aee:/home#







root@6c62d0585aee:/home# apt install gcc-aarch64-linux-gnu
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  binutils-aarch64-linux-gnu cpp-10-aarch64-linux-gnu cpp-aarch64-linux-gnu gcc-10-aarch64-linux-gnu gcc-10-aarch64-linux-gnu-base gcc-10-cross-base
Unpacking libgcc-10-dev-arm64-cross (10.2.1-6cross1) ...
Selecting previously unselected package gcc-10-aarch64-linux-gnu.
Preparing to unpack .../16-gcc-10-aarch64-linux-gnu_10.2.1-6cross1_amd64.deb ...
Unpacking gcc-10-aarch64-linux-gnu (10.2.1-6cross1) ...
Selecting previously unselected package gcc-aarch64-linux-gnu.
Preparing to unpack .../17-gcc-aarch64-linux-gnu_4%3a10.2.1-1_amd64.deb ...
Unpacking gcc-aarch64-linux-gnu (4:10.2.1-1) ...
Selecting previously unselected package linux-libc-dev-arm64-cross.
Preparing to unpack .../18-linux-libc-dev-arm64-cross_5.10.13-1cross4_all.deb ...
Unpacking linux-libc-dev-arm64-cross (5.10.13-1cross4) ...
Selecting previously unselected package libc6-dev-arm64-cross.
Preparing to unpack .../19-libc6-dev-arm64-cross_2.31-9cross4_all.deb ...
Unpacking libc6-dev-arm64-cross (2.31-9cross4) ...
Setting up binutils-aarch64-linux-gnu (2.35.2-2) ...
Setting up libc6-arm64-cross (2.31-9cross4) ...
Setting up gcc-10-cross-base (10.2.1-6cross1) ...
Setting up linux-libc-dev-arm64-cross (5.10.13-1cross4) ...
Setting up libgcc-s1-arm64-cross (10.2.1-6cross1) ...
Setting up gcc-10-aarch64-linux-gnu-base:amd64 (10.2.1-6cross1) ...
Setting up libatomic1-arm64-cross (10.2.1-6cross1) ...
Setting up liblsan0-arm64-cross (10.2.1-6cross1) ...
Setting up libgomp1-arm64-cross (10.2.1-6cross1) ...
Setting up libasan6-arm64-cross (10.2.1-6cross1) ...
Setting up libtsan0-arm64-cross (10.2.1-6cross1) ...
Setting up libc6-dev-arm64-cross (2.31-9cross4) ...
Setting up libstdc++6-arm64-cross (10.2.1-6cross1) ...
Setting up libitm1-arm64-cross (10.2.1-6cross1) ...
Setting up cpp-10-aarch64-linux-gnu (10.2.1-6cross1) ...
Setting up libubsan1-arm64-cross (10.2.1-6cross1) ...
Setting up libgcc-10-dev-arm64-cross (10.2.1-6cross1) ...
Setting up cpp-aarch64-linux-gnu (4:10.2.1-1) ...
Setting up gcc-10-aarch64-linux-gnu (10.2.1-6cross1) ...
Setting up gcc-aarch64-linux-gnu (4:10.2.1-1) ...
Processing triggers for libc-bin (2.31-13+deb11u5) ...
root@6c62d0585aee:/home#




root@6c62d0585aee:/home# binutils-aarch64-linux-gnu
bash: binutils-aarch64-linux-gnu: command not found
root@6c62d0585aee:/home# apt install binutils-aarch64-linux-gnu
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
binutils-aarch64-linux-gnu is already the newest version (2.35.2-2).
binutils-aarch64-linux-gnu set to manually installed.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
root@6c62d0585aee:/home#





 apt install binutils-aarch64-linux-gnu-dbg
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following NEW packages will be installed:
  binutils-aarch64-linux-gnu-dbg
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 41.7 MB of archives.
After this operation, 45.2 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian bullseye/main amd64 binutils-aarch64-linux-gnu-dbg amd64 2.35.2-2 [41.7 MB]
Fetched 41.7 MB in 7s (6263 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package binutils-aarch64-linux-gnu-dbg.
(Reading database ... 20475 files and directories currently installed.)
Preparing to unpack .../binutils-aarch64-linux-gnu-dbg_2.35.2-2_amd64.deb ...
Unpacking binutils-aarch64-linux-gnu-dbg (2.35.2-2) ...
Setting up binutils-aarch64-linux-gnu-dbg (2.35.2-2) ...
root@6c62d0585aee:/home#




root@6c62d0585aee:/home# apt install build-essential
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
build-essential is already the newest version (12.9).
build-essential set to manually installed.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.





root@6c62d0585aee:/home# apt install gcc-arm-linux-gnueabihf
Preparing to unpack .../10-libubsan1-armhf-cross_10.2.1-6cross1_all.deb ...
Unpacking libubsan1-armhf-cross (10.2.1-6cross1) ...
Selecting previously unselected package libgcc-10-dev-armhf-cross.
Preparing to unpack .../11-libgcc-10-dev-armhf-cross_10.2.1-6cross1_all.deb ...
Unpacking libgcc-10-dev-armhf-cross (10.2.1-6cross1) ...
Selecting previously unselected package gcc-10-arm-linux-gnueabihf.
Preparing to unpack .../12-gcc-10-arm-linux-gnueabihf_10.2.1-6cross1_amd64.deb ...
Unpacking gcc-10-arm-linux-gnueabihf (10.2.1-6cross1) ...
Selecting previously unselected package gcc-arm-linux-gnueabihf.
Preparing to unpack .../13-gcc-arm-linux-gnueabihf_4%3a10.2.1-1_amd64.deb ...
Unpacking gcc-arm-linux-gnueabihf (4:10.2.1-1) ...
Selecting previously unselected package linux-libc-dev-armhf-cross.
Preparing to unpack .../14-linux-libc-dev-armhf-cross_5.10.13-1cross4_all.deb ...
Unpacking linux-libc-dev-armhf-cross (5.10.13-1cross4) ...
Selecting previously unselected package libc6-dev-armhf-cross.
Preparing to unpack .../15-libc6-dev-armhf-cross_2.31-9cross4_all.deb ...
Unpacking libc6-dev-armhf-cross (2.31-9cross4) ...
Setting up libc6-armhf-cross (2.31-9cross4) ...
Setting up libgcc-s1-armhf-cross (10.2.1-6cross1) ...
Setting up libatomic1-armhf-cross (10.2.1-6cross1) ...
Setting up libstdc++6-armhf-cross (10.2.1-6cross1) ...
Setting up libasan6-armhf-cross (10.2.1-6cross1) ...
Setting up linux-libc-dev-armhf-cross (5.10.13-1cross4) ...
Setting up libubsan1-armhf-cross (10.2.1-6cross1) ...
Setting up binutils-arm-linux-gnueabihf (2.35.2-2) ...
Setting up gcc-10-arm-linux-gnueabihf-base:amd64 (10.2.1-6cross1) ...
Setting up libgomp1-armhf-cross (10.2.1-6cross1) ...
Setting up libc6-dev-armhf-cross (2.31-9cross4) ...
Setting up cpp-10-arm-linux-gnueabihf (10.2.1-6cross1) ...
Setting up libgcc-10-dev-armhf-cross (10.2.1-6cross1) ...
Setting up cpp-arm-linux-gnueabihf (4:10.2.1-1) ...
Setting up gcc-10-arm-linux-gnueabihf (10.2.1-6cross1) ...
Setting up gcc-arm-linux-gnueabihf (4:10.2.1-1) ...
Processing triggers for libc-bin (2.31-13+deb11u5) ...





root@6c62d0585aee:/usr/bin# apt install binutils-arm-linux-gnueabihf-dbg
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following NEW packages will be installed:
  binutils-arm-linux-gnueabihf-dbg
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 41.5 MB of archives.
After this operation, 45.0 MB of additional disk space will be used.
Get:1 http://deb.debian.org/debian bullseye/main amd64 binutils-arm-linux-gnueabihf-dbg amd64 2.35.2-2 [41.5 MB]
Fetched 41.5 MB in 7s (5983 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package binutils-arm-linux-gnueabihf-dbg.
(Reading database ... 22333 files and directories currently installed.)
Preparing to unpack .../binutils-arm-linux-gnueabihf-dbg_2.35.2-2_amd64.deb ...
Unpacking binutils-arm-linux-gnueabihf-dbg (2.35.2-2) ...
Setting up binutils-arm-linux-gnueabihf-dbg (2.35.2-2) ...
root@6c62d0585aee:/usr/bin#



root@6c62d0585aee:/home# apt install gdb-multiarch
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
Preparing to unpack .../18-gdb_10.1-1.7_amd64.deb ...
Unpacking gdb (10.1-1.7) ...
Selecting previously unselected package gdb-multiarch.
Preparing to unpack .../19-gdb-multiarch_10.1-1.7_amd64.deb ...
Unpacking gdb-multiarch (10.1-1.7) ...
Selecting previously unselected package libc6-dbg:amd64.
Preparing to unpack .../20-libc6-dbg_2.31-13+deb11u5_amd64.deb ...
Unpacking libc6-dbg:amd64 (2.31-13+deb11u5) ...
Selecting previously unselected package publicsuffix.
Preparing to unpack .../21-publicsuffix_20220811.1734-0+deb11u1_all.deb ...
Unpacking publicsuffix (20220811.1734-0+deb11u1) ...
Setting up media-types (4.0.0) ...
Setting up libpsl5:amd64 (0.21.0-1.2) ...
Setting up libpython3.9-minimal:amd64 (3.9.2-1) ...
Setting up libnghttp2-14:amd64 (1.43.0-1) ...
Setting up libsource-highlight-common (3.1.9-3) ...
Setting up libc6-dbg:amd64 (2.31-13+deb11u5) ...
Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b2) ...
Setting up libboost-regex1.74.0:amd64 (1.74.0-9) ...
Setting up libipt2 (2.0.3-1) ...
Setting up libmpdec3:amd64 (2.5.1-1) ...
Setting up libssh2-1:amd64 (1.9.0-2) ...
Setting up libelf1:amd64 (0.183-1) ...
Setting up publicsuffix (20220811.1734-0+deb11u1) ...
Setting up libsource-highlight4v5 (3.1.9-3+b1) ...
Setting up libpython3.9-stdlib:amd64 (3.9.2-1) ...
Setting up libdw1:amd64 (0.183-1) ...
Setting up libcurl3-gnutls:amd64 (7.74.0-1.3+deb11u7) ...
Setting up libpython3.9:amd64 (3.9.2-1) ...
Setting up libbabeltrace1:amd64 (1.5.8-1+b3) ...
Setting up libdebuginfod1:amd64 (0.183-1) ...
Setting up gdb (10.1-1.7) ...
Setting up gdb-multiarch (10.1-1.7) ...
Processing triggers for libc-bin (2.31-13+deb11u5) ...
root@6c62d0585aee:/home#
</code></pre>
  </div>
</div>



    
    
    

    
    <script src="/js/menu-module.js"></script>
    <script src="/js/index-module.js"></script>
</body>
</html>
