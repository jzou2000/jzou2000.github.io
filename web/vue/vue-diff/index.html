<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<title>
    My Hugo
</title>

<link rel="stylesheet" type="text/css" href="/css/syntax.css">
<link rel="stylesheet" type="text/css" href="/css/site.css">

  

<script src='/js/vue.global.js'></script>
<script src='/js/vuex.js'></script>




</head>

<body>
    
 
<div class="header">
  <div class="nav-menu-bar">
    <ul class="nav-menu-bar">
    
      <li class="nav-menu">
        
          Core
          <div class="nav-menu-item">
            
              

  
  
    <a href="/core/algorithm/resources/">Algorithm</a>
  


            
              

  
  
    
      <a href="/core/c&#43;&#43;/debug/sysinternals/">C/C&#43;&#43;</a>
    
  


            
              

  
  
    
      <a href="/core/db/odbc/odbc-api-notes/">Database</a>
    
  


            
              

  
  
    <a href="/core/docker/install/">Docker</a>
  


            
              

  
  
    
      <a href="/core/git/p4/p4recipe/">Git</a>
    
  


            
              

  
  
    <a href="/core/java/load-overload/">Java</a>
  


            
              

  
  
    <a href="/core/jenkins/overview/">Jenkins</a>
  


            
              

  
  
    
      <a href="/core/linux/utils/diff/">Linux</a>
    
  


            
              

  
  
    <a href="/core/misc/vsc/">Misc</a>
  


            
              

  
  
    <a href="/core/network/mitmproxy/">Network</a>
  


            
              

  
  
    <a href="/core/open-source/apache/">Open Source</a>
  


            
              

  
  
    <a href="/core/python/shallow-or-deep/">Python</a>
  


            
              

  
  
    
      <a href="/core/rosetta/container/vector/">Rosetta</a>
    
  


            
              

  
  
    <a href="/core/security/ssh-key/">Security</a>
  


            
              

  
  
    
      <a href="/core/shell/bash/array/">Shell</a>
    
  


            
          </div>
        
      </li>
    
      <li class="nav-menu">
        
          Web
          <div class="nav-menu-item">
            
              

  
  
    <a href="/web/css/align/">CSS</a>
  


            
              

  
  
    <a href="/web/html/overview/">Html</a>
  


            
              

  
  
    <a href="/web/hugo/my-hugo-docker/">Hugo</a>
  


            
              

  
  
    <a href="/web/js/vsc-settings-javascript/">JavaScript</a>
  


            
              

  
  
    <a href="/web/misc/tools/">Misc</a>
  


            
              

  
  
    
      <a href="/web/svg/samples/embed-svg/">SVG</a>
    
  


            
              

  
  
    <a href="/web/vue/vue-quick-start/">Vue</a>
  


            
          </div>
        
      </li>
    
      <li class="nav-menu">
        
          IoT
          <div class="nav-menu-item">
            
              

  
  
    <a href="/iot/arduino/shopping/">Arduino</a>
  


            
              

  
  
    
      <a href="/iot/electronics/audio/microphone-array/">Electroincs</a>
    
  


            
              

  
  
    <a href="/iot/esp/esp32/">Esp</a>
  


            
              

  
  
    <a href="/iot/freecad/online-resources/">FreeCAD</a>
  


            
              

  
  
    <a href="/iot/general/emulator/">General</a>
  


            
          </div>
        
      </li>
    
      <li class="nav-menu">
        
          Blogs
          <div class="nav-menu-item">
            
              

  
  
    <a href="/blogs/2023/04/">2023</a>
  


            
              

  
  
    <a href="/blogs/blood-tests/results/">Blood Tests</a>
  


            
              

  
  
    <a href="/blogs/cancer/calender/">Cancer</a>
  


            
              

  
  
    
      <a href="/blogs/english/proverbs-of-day/200/">English</a>
    
  


            
              

  
  
    <a href="/blogs/recipe/begrette/">Recipe</a>
  


            
              

  
  
    <a href="/blogs/camino/sjpdp/">The French Camino</a>
  


            
              

  
  
    <a href="/blogs/travels/morocco/">Travels</a>
  


            
              

  
  
    <a href="/blogs/vancouver/bookmark/">Vancouver</a>
  


            
              

  
  
    <a href="/blogs/varicose/intro/">Varicose Veins</a>
  


            
              

  
  
    <a href="/blogs/workout/bookmarks/">Workout</a>
  


            
          </div>
        
      </li>
    
    
      <li class="nav-menu">
          Taxonomies
          
<div class="nav-menu-item">
    
    <a href='/categories'>categories</a>
    
    <a href='/tags'>tags</a>
    
</div>

      </li>
    
    </ul>
  </div>
</div>



    
<div>
  
<div class="nav-sidebar">
  
  

  
  
  
  <div class='nav-sidebar-title'>Vue</div>
  

  
  <div class='nav-sidebar-direct'>
  
    
      <a href="/web/vue/vue-access-dom/">accessing DOM</a>
    
  
    
      <a href="/web/vue/boilerplate/">boilerplate</a>
    
  
    
      <a href="/web/vue/bookmarks/">bookmarks</a>
    
  
    
      <a href="/web/vue/vue-diff/">diff with js</a>
    
  
    
      <a href="/web/vue/vue-dnd/">drag-n-drop</a>
    
  
    
      <a href="/web/vue/intro/">intro</a>
    
  
    
      <a href="/web/vue/vue-app-min/">minimal project setup</a>
    
  
    
      <a href="/web/vue/svg-elements/">process svg element</a>
    
  
    
      <a href="/web/vue/vue-async/">process svg element async</a>
    
  
    
      <a href="/web/vue/vue-quick-start/">quick start</a>
    
  
    
      <a href="/web/vue/resources/">resources</a>
    
  
    
      <a href="/web/vue/vue-svg-component-2/">svg components</a>
    
  
    
      <a href="/web/vue/vue-ui-tabs/">tabs by css</a>
    
  
    
      <a href="/web/vue/vue-ultralight/">ultra-light vue</a>
    
  
    
      <a href="/web/vue/vue-component/">vue component</a>
    
  
    
      <a href="/web/vue/vue-component-2/">vue component 2</a>
    
  
    
      <a href="/web/vue/vue-in-hugo/">vue in hugo</a>
    
  
  </div>
  
</div>

  <div class="content">
  <h1>Diff using only JavaScript</h1>
  
  <p>In this example, we use <a href="https://www.npmjs.com/package/diff">jsdiff</a> to compare two strings (that simulate two files), generate the patch result as a string (similar to the output of diff), and display the patch in html using <a href="https://www.npmjs.com/package/diff2html">diff2html</a>.</p>
<div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsdiff/5.0.0/diff.min.js" integrity="sha512-Rjml7/E2zETyVFhzIQnTEjW7PBCH5/Y4ac2uu9MGqh1JclCVHbvT1lIlcVmvAGFipi/L16eA6Jr9km2zit9Tfg==" crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/diff2html/bundles/css/diff2html.min.css" />
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/diff2html/bundles/js/diff2html.min.js"></script>
</div>
<style type="text/css">
    textarea { margin: 5px; height: 4cm; }
    .panel { padding: 8px; background-color: #eff;
     border: thin solid lightgrey; border-radius: 8px; }
    .diff-result { padding-top: 5mm; float: clear; }
    .clear { clear: both; }
    .left { float: left; margin-left: 16px; }
    .half { width: calc(40% - 16px); }
</style>
<div id='sample-app'>
  <textarea class='left half' v-model='s1'></textarea>
  <textarea class='left half' v-model='s2'></textarea>
  <div class='clear'>
    <button @click='run'>Go!</button>
  </div>
  <div class='diff-result' v-show='patch'>
    <div class='panel' v-html='diff_res'>m</div>
    <h3>Diff Raw Output</h3>
    <div class='left'>
      diffLines
      <pre class='panel'>{{diff_lines}}</pre>
    </div>
    <div class='left'>
      createTwoFilesPatch
      <pre class='panel'>{{patch}}</pre>
    </div>
    <div class='clear' />
  </div>
</div>
<script lang='javascript'>

const log = console.log

var app = new Vue({
  el: '#sample-app',
  data: {
    title: 'diff two strings',
    s1: `Hello
  this is used to test diff
  hello, hero
  lines to remove
  2nd line
  unchanged
  more text
`,
    s2: `Hello
  this is used to test diff
  hello, world
  unchanged
  1
    2
    3 lines are aded
  more text
`,
    diff_res: '',
    diff_lines: '',
    patch: '',
  },
  methods: {
    run: function () {
      const s1 = this.s1
      const s2 = this.s2
      dfo = Diff.diffLines(s1, s2, {})
      this.diff_lines = `${JSON.stringify(dfo, null, 2)}\n`
      this.patch = Diff.createTwoFilesPatch('Left', 'Right', s1, s2)
      this.diff_res = Diff2Html.html(this.patch, {
        drawFileList: false,
        matching: 'lines',
        outputFormat: 'side-by-side',
      })
    }
  }
})

</script>


</div>
</div>

    
    
    
</body>
</html>
